(this["webpackJsonpben-sarjeant-project-5"]=this["webpackJsonpben-sarjeant-project-5"]||[]).push([[0],{31:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(5),c=a.n(r),o=a(25),i=a.n(o),s=(a(31),a(3)),h=a(9),u=a(10),l=a(12),p=a(11),d=a(14);a(33);d.a.initializeApp({apiKey:"AIzaSyAzgD0kXpjPIfhvWKOTTAPmM6nUKUH4tNI",authDomain:"ben-sarjeant-project-5.firebaseapp.com",databaseURL:"https://ben-sarjeant-project-5.firebaseio.com",projectId:"ben-sarjeant-project-5",storageBucket:"ben-sarjeant-project-5.appspot.com",messagingSenderId:"294499551721",appId:"1:294499551721:web:5cbbb09952bf2f8b72e378"});var j=d.a,b=a(15),m=a.n(b),f=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"weatherDataContainer",id:"weatherDataContainer",children:[Object(n.jsx)("h2",{children:this.props.weatherLoc}),Object(n.jsxs)("h3",{children:[this.props.currentWeathCondition," | ",this.props.currentWeath.temp_c,"\xb0C "]}),Object(n.jsxs)("p",{children:["Humidity: ",this.props.currentWeath.humidity]}),Object(n.jsxs)("p",{children:["Wind (kph): ",this.props.currentWeath.windText,", ",this.props.currentWeath.wind_kph,"kph"]}),Object(n.jsxs)("p",{children:["Precipitation: ",this.props.currentWeath.precipText,", ",this.props.currentWeath.precip_mm,"mm"]}),Object(n.jsxs)("p",{children:["Pressure: ",this.props.currentWeath.pressure_in]}),Object(n.jsx)("button",{className:"",children:"See Five Day Forcast"}),Object(n.jsx)("button",{onClick:this.props.firebaseAddFunc,children:"Save Location for Future Use"})]})}}]),a}(r.Component),O=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("header",{children:Object(n.jsxs)("div",{className:"wrapper headerFlexChild",children:[Object(n.jsx)("h1",{children:"Check out some weather!"}),Object(n.jsx)("i",{onClick:function(){e.props.scrollFunc()},className:"fas fa-chevron-down chevron"})]})})}}]),a}(r.Component),g=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).handleInputChange=function(t){e.setState({userInput:t.target.value.charAt(0).toUpperCase()+t.target.value.slice(1)})},e.handleSubmit=function(t){t.preventDefault(),e.callWeatherAPI("".concat(e.state.userInput)),e.callUnsplashImgAPI("".concat(e.state.userInput))},e.callWeatherAPI=function(t){m()({method:"GET",url:"https://api.weatherapi.com/v1/current.json",dataResponse:"json",params:{key:"29c5ceb051fc45c29ac204434202611",q:t}}).then((function(t){e.filterWeatherData(t.data),document.getElementById("weatherDataContainer").style.display="flex"})).catch((function(e){console.log(e),alert("No data for that city, please try again.")}))},e.filterWeatherData=function(t){console.log("original weather data",t);var a=t.current,n=t.location.name+", "+t.location.country,r=t.current.condition.text,c=(t.current.humidity,t.current.wind_kph),o=t.current.precip_mm;t.current.pressure_in;a=c>=60?Object(s.a)(Object(s.a)({},a),{},{windText:"Very windy - stay inside or you'll turn into a kite"}):c<60&c>=40?Object(s.a)(Object(s.a)({},a),{},{windText:"Windy - enjoy the strong winds"}):c<40&c>=15?Object(s.a)(Object(s.a)({},a),{},{windText:"Breezy - the perfect amount of breeze"}):Object(s.a)(Object(s.a)({},a),{},{windText:"Hardly any wind right now"}),a=o>=20?Object(s.a)(Object(s.a)({},a),{},{precipText:"It's raining cats and dogs - stay inside or you'll drown"}):o<20&o>=10?Object(s.a)(Object(s.a)({},a),{},{precipText:"It's pouring - wear that rain coat you don't own"}):o<10&o>=4?Object(s.a)(Object(s.a)({},a),{},{precipText:"It's raining - better bundle up"}):o<4&o>=.1?Object(s.a)(Object(s.a)({},a),{},{precipText:"It's drizzling - at least it's not pouring"}):Object(s.a)(Object(s.a)({},a),{},{precipText:"No rain right now"}),e.setState({weatherLocation:n,currentWeatherData:a,currentConditionData:r})},e.callUnsplashImgAPI=function(t){m()({method:"GET",url:"https://api.unsplash.com/search/photos",dataResponse:"json",params:{client_id:"ZxjN4qAJgh0cJ5Lz2Lm47cXNiqzVZVZ69KLm5386GtM",query:t,orientation:"landscape"}}).then((function(t){var a=t.data.results[0].urls.regular;e.setState({weatherLocationBg:a}),document.getElementById("weatherSection").style.backgroundImage="url(".concat(e.state.weatherLocationBg,")")})).catch((function(e){console.log(e)}))},e.scrollToWeather=function(){e.weatherSection.scrollIntoView({behavior:"smooth"})},e.removeLocation=function(e){j.database().ref().child(e).remove()},e.storeLocation=function(){var t=j.database().ref(),a=[];e.state.locations.forEach((function(e){a.push(e.name)}));var n=a.indexOf(e.state.userInput);e.state.userInput;n>=0?alert("This city is already a stored location!"):t.push(e.state.userInput)},e.loadPreviousCity=function(t){t.preventDefault(),e.setState({userInput:t.target.text}),e.callWeatherAPI(t.target.text),e.callUnsplashImgAPI(t.target.text)},e.state={locations:[],currentWeatherData:[],weatherLocation:"",userInput:"",weatherRange:"",weatherLocationBg:"",currentConditionData:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.storeUserLocationFB()}},{key:"storeUserLocationFB",value:function(){var e=this;j.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var r in a){var c={id:r,name:a[r]};n.push(c)}e.setState({locations:n})}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(O,{scrollFunc:this.scrollToWeather}),Object(n.jsx)("section",{className:"weatherMain",id:"weatherSection",ref:function(t){e.weatherSection=t},children:Object(n.jsxs)("section",{className:"requestedWeather",children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:"weatherDataForm",children:[Object(n.jsx)("label",{htmlFor:"userLocation",className:"srOnly",children:"location:"}),Object(n.jsx)("input",{type:"text",id:"userLocation",name:"userLocation",placeholder:"Search for a city",onChange:this.handleInputChange}),Object(n.jsx)("button",{children:"Find Weather"})]}),Object(n.jsx)(f,{weatherLoc:this.state.weatherLocation,currentWeathCondition:this.state.currentConditionData,currentWeath:this.state.currentWeatherData,bgSrc:this.state.weatherLocationBg,firebaseAddFunc:this.storeLocation}),Object(n.jsx)("div",{className:"firebaseStoredLocations",children:this.state.locations.map((function(t){return Object(n.jsxs)("li",{children:[Object(n.jsx)("a",{href:"",onClick:e.loadPreviousCity,children:t.name}),Object(n.jsx)("button",{className:"removeButton",onClick:function(){e.removeLocation(t.id)},children:"X"})]},t.id)}))})]})})]})}}]),a}(r.Component),x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,53)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),x()}},[[52,1,2]]]);
//# sourceMappingURL=main.5445c41f.chunk.js.map